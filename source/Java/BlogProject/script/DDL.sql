create database blog;
use blog;

CREATE TABLE MST_CATEGORY(
	CATEGORY_CODE CHAR(2) NOT NULL,
	CATEGORY_NAME NVARCHAR(255) NOT NULL,
	URL NVARCHAR(255) NOT NULL,
	ISHOME BOOLEAN DEFAULT FALSE NOT NULL,
	ISDELETED BOOLEAN DEFAULT FALSE NOT NULL,
	
	PRIMARY KEY(CATEGORY_CODE)
);

CREATE TABLE TSN_POST(
	IDX INT NOT NULL AUTO_INCREMENT,
	CATEGORY_CODE CHAR(2) NOT NULL,
	LOCATION VARCHAR(2048) NOT NULL COMMENT 'URL Address',
	CHANGEFREG INT DEFAULT 5 NOT NULL, 
	CREATEDATED DATETIME DEFAULT now() NOT NULL, 
	LAST_UPDATED DATETIME DEFAULT now() NOT NULL,
	PRIORITY INT DEFAULT 5 NOT NULL,
	TITLE NVARCHAR(2048) NOT NULL, 
	FILEPATH VARCHAR(2048) NULL, 
	GUID VARCHAR(255) DEFAULT uuid() NOT NULL, 
	IMAGE LONGBLOB NULL, 
	SUMMARY NVARCHAR(4096) NOT NULL, 
	
	PRIMARY KEY(IDX),
	FOREIGN KEY(CATEGORY_CODE) REFERENCES MST_CATEGORY(CATEGORY_CODE)
);

INSERT INTO MST_CATEGORY VALUES("01", N'홈', '/', TRUE, FALSE);
INSERT INTO MST_CATEGORY VALUES("02", N'나의일기', '/DialyList.html', FALSE, FALSE);
INSERT INTO MST_CATEGORY VALUES("03", N'나의경험', '/ExperienceList.html', FALSE, FALSE);
INSERT INTO MST_CATEGORY VALUES("04", N'일본생활', '/JapanLifeList.html', FALSE, FALSE);
INSERT INTO MST_CATEGORY VALUES("05", N'한국생활', '/KoreanLifeList.html', FALSE, FALSE);
INSERT INTO MST_CATEGORY VALUES("06", N'즐겨찾기', '/FavoritesList.html', FALSE, FALSE);
